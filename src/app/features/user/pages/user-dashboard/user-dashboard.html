<div class="d-flex justify-content-between align-items-center mb-4">
  <h3>Welcome, <span class="text-primary">{{ currentUserName }}</span>!</h3>
  <button class="btn btn-sm btn-outline-secondary" (click)="loadBalances(authService.getUserPartyId()!)">
    <i class="bi bi-arrow-clockwise"></i> Refresh
  </button>
</div>

<!-- Loading Spinner -->
<div *ngIf="isLoading" class="text-center mt-5 pt-5">
  <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-2 text-muted">Fetching your data...</p>
</div>

<!-- Error Message -->
<div *ngIf="errorMessage" class="alert alert-danger">
  {{ errorMessage }}
</div>

<!-- Main Content (only shown when not loading and no errors) -->
<div *ngIf="!isLoading && !errorMessage && balances" class="row">
  <div class="col-lg-6 mb-4">
    <!-- Parent-to-Child data binding using [cashBalances] -->
    <app-cash-balance-card [cashBalances]="balances.cashBalances"></app-cash-balance-card>
  </div>
  <div class="col-lg-6 mb-4">
    <!-- Parent-to-Child data binding using [tokenBalances] -->
    <app-token-balance-card [tokenBalances]="balances.tokenBalances"></app-token-balance-card>
  </div>
</div>